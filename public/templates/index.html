{% load static %}
{% include 'base.html' %}
<!doctype html>
<link rel="stylesheet" href="{% static 'css/app.css' %}">
<body>
    {% include 'header.html' %}
    <div class= "container">
        <h1>Agregar Evento</h1>
        
        <form id="addEventForm">
            <label for="titulo">Título:</label>
            <input type="text" class="form-control" id="titulo" required><br>

            <label for="descripcion">Descripción:</label>
            <textarea id="descripcion" class="form-control" required></textarea><br>
            
            <label for="fecha">Fecha:</label>
            <input type="date" id="fecha" class="form-control" required><br>
            
            <label for="ubicacion">Ubicación:</label>
            <input type="text" id="ubicacion" class="form-control"required><br>

            <button type="button" class="btn btn-primary" onclick="agregarEvento()">Agregar Evento</button>
        </form>
    <div>

    <script>
        function agregarEvento() {
            var titulo = document.getElementById('titulo').value;
            var fecha = document.getElementById('fecha').value;
            var ubicacion = document.getElementById('ubicacion').value;
            var descripcion = document.getElementById('descripcion').value;

            var data = {
                'titulo': titulo,
                'descripcion': descripcion,
                'fecha': fecha,
                'ubicacion': ubicacion
            };

            fetch('http://localhost:8000/api/eventos/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Evento agregado:', data);
                alert('Evento agregado exitosamente');
                // Puedes redirigir al usuario o realizar otras acciones después de agregar el evento
            })
            .catch(error => {
                console.error('Error al agregar el evento:', error);
                alert('Error al agregar el evento');
            });
        }
    </script>
</body>
</html>

